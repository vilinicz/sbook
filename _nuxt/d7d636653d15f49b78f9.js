(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{380:function(e,t,r){var content=r(457);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(12).default)("2e9d0cb1",content,!1,{sourceMap:!1})},456:function(e,t,r){"use strict";var n=r(380);r.n(n).a},457:function(e,t,r){(e.exports=r(11)(!1)).push([e.i,"[data-v-65e5c67e]:root{--blue:#1780fb;--green:#2eb924;--red:#fc362f;--orange:#fd9439;--yellow:#f2ce0f;--black:#1d1d1b;--gray-extra-light:#f7f7f7;--gray-lightest:#eeeded;--gray-lighter:#e6e5e5;--gray-light:#d2d1d1;--gray:#c0bfbf;--gray-dark:#929090;--gray-darker:#5f5d5d;--gray-darkest:#30332e}.Id[data-v-65e5c67e]{padding:1rem;overflow:auto;display:flex;flex-flow:column nowrap}.Id h2[data-v-65e5c67e]{margin-bottom:2rem}.Id .footer[data-v-65e5c67e]{background-color:rgba(245,108,108,.2);padding:1rem;display:flex;justify-content:flex-end;border-radius:8px;margin-top:auto}.Id .footer .hint[data-v-65e5c67e]{color:#f56c6c}",""])},495:function(e,t,r){"use strict";r.r(t);function n(source,e){if(null==source)return{};var t,i,r=function(source,e){if(null==source)return{};var t,i,r={},n=Object.keys(source);for(i=0;i<n.length;i++)t=n[i],e.indexOf(t)>=0||(r[t]=source[t]);return r}(source,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(source);for(i=0;i<n.length;i++)t=n[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(source,t)&&(r[t]=source[t])}return r}r(13);var o=r(2),c={layout:"admin",asyncData:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(t){var r,n,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$axios,n=t.params,e.next=3,r.$get("/users/".concat(n.id));case 3:return o=e.sent,c=o.data,e.abrupt("return",{user:c});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),methods:{update:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.user,t.avatar,r=n(t,["avatar"]),e.next=4,this.$axios.patch("/users/".concat(this.user.id),{user:r});case 4:this.$message.success("Аккаунт успешно обновлен"),this.$emit("changed"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.$message.error("Не удалось обновить аккаунт");case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),destroy:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$confirm("Пользователь будет безвозвратно удален. Вы уверены?","Удалить аккаунт",{confirmButtonText:"Удалить",cancelButtonText:"Отменить",type:"warning"});case 3:return e.next=5,this.$axios.delete("users/".concat(this.user.id));case 5:this.$message.success("Вы удалили пользователя"),this.$emit("changed"),this.$router.push({path:"/admin/users"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.$message.warning("Аккаунт не был удален.");case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()}},l=(r(456),r(4)),component=Object(l.a)(c,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"Id"},[r("h2",[e._v("Аккаунт "+e._s(e.user.id))]),e._v(" "),r("el-form",[r("el-form-item",[r("el-input",{attrs:{placeholder:"Имя"},on:{change:e.update},model:{value:e.user.first_name,callback:function(t){e.$set(e.user,"first_name",t)},expression:"user.first_name"}})],1),e._v(" "),r("el-form-item",[r("el-input",{attrs:{placeholder:"Фамилия"},on:{change:e.update},model:{value:e.user.last_name,callback:function(t){e.$set(e.user,"last_name",t)},expression:"user.last_name"}})],1),e._v(" "),r("el-form-item",[r("el-input",{attrs:{placeholder:"Отчество"},on:{change:e.update},model:{value:e.user.second_name,callback:function(t){e.$set(e.user,"second_name",t)},expression:"user.second_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Email"}},[r("el-input",{attrs:{placeholder:"Email"},on:{change:e.update},model:{value:e.user.login,callback:function(t){e.$set(e.user,"login",t)},expression:"user.login"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Админ"}},[r("el-switch",{attrs:{disabled:""},model:{value:e.user.admin,callback:function(t){e.$set(e.user,"admin",t)},expression:"user.admin"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Тренер"}},[r("el-switch",{on:{change:e.update},model:{value:e.user.trainer,callback:function(t){e.$set(e.user,"trainer",t)},expression:"user.trainer"}})],1),e._v(" "),r("div",{staticClass:"hint success"},[e._v("\n      Изменения сохраняются автоматически\n    ")])],1),e._v(" "),r("div",{staticClass:"footer"},[e.user.id!=e.$auth.user.id?r("el-button",{attrs:{size:"medium",type:"danger"},on:{click:e.destroy}},[e._v("\n      Удалить аккаунт\n    ")]):r("div",{staticClass:"hint"},[e._v("\n      Вы не можете удалить сами себя\n    ")])],1)],1)},[],!1,null,"65e5c67e",null);t.default=component.exports}}]);